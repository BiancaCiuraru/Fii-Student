<!DOCTYPE html>
<html lang="en">

<head>
	${require('./partials/shared/_head.html')}

	<title>FII Student - Materii</title>

	<script>
		const title = 'Materii';
		const subtitle = 'Află informații despre materiile tale preferate';
		const shouldBeLoggedIn = true;
	</script>
</head>

<body>
	${require('./partials/shared/navbar.html')}

	${require('./partials/shared/page-header.html')}

	<div class="container-fluid min-vw-100">
		<br>
		<br>
		<br>
		<br>
		<h3 class="text-center mt-3 pt-3"> Listă materii/Informatii</h3>
		<div class="row">
			<div class="col-4">
				<div class="list-group" id="list-tab" role="tablist">
					<a class="list-group-item list-group-item-action active" id="list-an1-list" data-toggle="list"
						href="#list-an1" role="tab" aria-controls="an1">Anul I</a>
				</div>
			</div>
			<div class="col-8">
				<div class="tab-content" id="nav-tabContent">
					<div class="tab-pane fade show active" id="list-an1" role="tabpanel"
						aria-labelledby="list-an1-list">
						<ul class="list-group" id="ul-list-an1">
						</ul>
					</div>
					
					<div class="tab-pane fade" id="list-an2" role="tabpanel" aria-labelledby="list-an2-list">
						<ul class="list-group" id="ul-list-an2">
						</ul>
					</div>
					<div class="tab-pane fade" id="list-an3" role="tabpanel" aria-labelledby="list-an3-list">
							<ul class="list-group" id="ul-list-an3">
							</ul>
					</div>
					<div class="tab-pane fade" id="list-master1" role="tabpanel" aria-labelledby="list-master1-list">
							<ul class="list-group" id="ul-list-master1">
							</ul>
					</div>
					<div class="tab-pane fade" id="list-master2" role="tabpanel" aria-labelledby="list-master2-list">
							<ul class="list-group" id="ul-list-master2">
							</ul>
					</div>

				</div>
			</div>
		</div>
	</div>

	${require('./partials/shared/footer.html')}

	<script>

		var doc;
		var anul1 = [];
		var anul2 = [];
		var anul3 = [];
		var master1 = [];
		var master2 = [];

		$(document).ready(function () {
			$.ajax({
				url: endpoint + "courses",
				beforeSend: function (xhr) {
					xhr.setRequestHeader('Authorization', 'Bearer ' + sessionStorage.getItem("accessToken"));
				},
			}).then(function (data) {

				doc = JSON.parse(data);

				anul1 = doc[0]['subjects'];
				anul2 = doc[1]['subjects'];
				anul3 = doc[2]['subjects'];
				master1 = doc[3]['subjects'];
				master2 = doc[4]['subjects'];

				$.each(anul1, function (index, val) {
					
					$("<a class=\"list-group-item list-group-item-action \" id=\"list-an1-" + index + "-list\" data-toggle=\"list\" href=\"#list-an1-" + index + "\" role=\"tab\" aria-controls=\"an1-" + index + "\">" + val['name'] + "</a>").appendTo("#list-tab");
					
					$("<li class=\"list-group-item d-flex justify-content-between align-items-center\">" + val['name'] + "</li>").appendTo("#ul-list-an1");
					
					$("<div class=\"tab-pane fade\" id=\"list-an1-" + index + "\" role=\"tabpanel\" aria-labelledby=\"list-an1-" + index + "-list\"> <div class=\"embed-responsive embed-responsive-21by9\"><iframe class=\"embed-responsive-item\" src=\"" + val['fisa'] + "\"></iframe></div></div>").appendTo("#nav-tabContent");
				});

				$("<a class=\"list-group-item list-group-item-action \" id=\"list-an2-list\" data-toggle=\"list\" href=\"#list-an2\" role=\"tab\" aria-controls=\"an2\">Anul II</a>").appendTo("#list-tab");

				$.each(anul2, function (index, val) {
					
					$("<a class=\"list-group-item list-group-item-action \" id=\"list-an2-" + index + "-list\" data-toggle=\"list\" href=\"#list-an2-" + index + "\" role=\"tab\" aria-controls=\"an2-" + index + "\">" + val['name'] + "</a>").appendTo("#list-tab");
					
					$("<li class=\"list-group-item d-flex justify-content-between align-items-center\">" + val['name'] + "</li>").appendTo("#ul-list-an2");
				
					$("<div class=\"tab-pane fade\" id=\"list-an2-" + index + "\" role=\"tabpanel\" aria-labelledby=\"list-an2-" + index + "-list\"> <div class=\"embed-responsive embed-responsive-21by9\"><iframe class=\"embed-responsive-item\" src=\"" + val['fisa'] + "\"></iframe></div></div>").appendTo("#nav-tabContent");
				
				});

				$("<a class=\"list-group-item list-group-item-action \" id=\"list-an3-list\" data-toggle=\"list\" href=\"#list-an3\" role=\"tab\" aria-controls=\"an3\">Anul III</a>").appendTo("#list-tab");

				$.each(anul3, function (index, val) {
					
					$("<a class=\"list-group-item list-group-item-action \" id=\"list-an3-" + index + "-list\" data-toggle=\"list\" href=\"#list-an3-" + index + "\" role=\"tab\" aria-controls=\"an3-" + index + "\">" + val['name'] + "</a>").appendTo("#list-tab");
					
					$("<li class=\"list-group-item d-flex justify-content-between align-items-center\">" + val['name'] + "</li>").appendTo("#ul-list-an3");
				
					$("<div class=\"tab-pane fade\" id=\"list-an3-" + index + "\" role=\"tabpanel\" aria-labelledby=\"list-an3-" + index + "-list\"> <div class=\"embed-responsive embed-responsive-21by9\"><iframe class=\"embed-responsive-item\" src=\"" + val['fisa'] + "\"></iframe></div></div>").appendTo("#nav-tabContent");
				
				});

				$("<a class=\"list-group-item list-group-item-action \" id=\"list-master1-list\" data-toggle=\"list\" href=\"#list-master1\" role=\"tab\" aria-controls=\"master1\">Master I</a>").appendTo("#list-tab");

				
				$.each(master1, function (index, val) {
					
					$("<a class=\"list-group-item list-group-item-action \" id=\"list-master1-" + index + "-list\" data-toggle=\"list\" href=\"#list-master1-" + index + "\" role=\"tab\" aria-controls=\"master1-" + index + "\">" + val['name'] + "</a>").appendTo("#list-tab");
					
					$("<li class=\"list-group-item d-flex justify-content-between align-items-center\">" + val['name'] + "</li>").appendTo("#ul-list-master1");
				
					$("<div class=\"tab-pane fade\" id=\"list-master1-" + index + "\" role=\"tabpanel\" aria-labelledby=\"list-master1-" + index + "-list\"> <div class=\"embed-responsive embed-responsive-21by9\"><iframe class=\"embed-responsive-item\" src=\"" + val['fisa'] + "\"></iframe></div></div>").appendTo("#nav-tabContent");
				
				});

				$("<a class=\"list-group-item list-group-item-action \" id=\"list-master2-list\" data-toggle=\"list\" href=\"#list-master2\" role=\"tab\" aria-controls=\"master2\">Master II</a>").appendTo("#list-tab");

				$.each(master2, function (index, val) {
					
					$("<a class=\"list-group-item list-group-item-action \" id=\"list-master2-" + index + "-list\" data-toggle=\"list\" href=\"#list-master2-" + index + "\" role=\"tab\" aria-controls=\"master2-" + index + "\">" + val['name'] + "</a>").appendTo("#list-tab");
					
					$("<li class=\"list-group-item d-flex justify-content-between align-items-center\">" + val['name'] + "</li>").appendTo("#ul-list-master2");
				
					$("<div class=\"tab-pane fade\" id=\"list-master2-" + index + "\" role=\"tabpanel\" aria-labelledby=\"list-master2-" + index + "-list\"> <div class=\"embed-responsive embed-responsive-21by9\"><iframe class=\"embed-responsive-item\" src=\"" + val['fisa'] + "\"></iframe></div></div>").appendTo("#nav-tabContent");
				
				});
			});
		});
	</script>
</body>

</html>